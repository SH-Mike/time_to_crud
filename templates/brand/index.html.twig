{% extends 'base.html.twig' %}

{% block title %}
	Brands
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="text-center underlined">Les marques</h1>
		<h2 class="mt-3">Cette page présente les différentes marques dont nous avons les références dans nos données.</h2>
		Si vous souhaitez afficher uniquement certaines marques, veuillez utiliser l'interface de recherche ci-dessous. Une marque manque à l'appel ?
		<a href="{{path('brand_add')}}" class="btn btn-warning">Ajoutez-la ici</a>
		<br/>
		{{form_start(searchForm)}}
		<div class="row mt-3">
			<div class="col-md-3">
				{{form_widget(searchForm.search_category)}}
			</div>
			<div class="col-md-9">
				{{form_widget(searchForm.search_text)}}
			</div>
		</div>
		<div class="mt-3">
			{{form_widget(searchForm.submit)}}
		</div>
		{{form_end(searchForm)}}


		<hr>
		<div class="table-responsive mt-5">
			<table class="table table-hover table-stripped">
				<thead class="thead-dark">
					<tr>
						<th>Logo</th>
						<th>Nom</th>
						<th>Nationalité</th>
						<th>Date de création</th>
						<th>Plus d'informations</th>
						<th>-</th>
					</tr>
				</thead>
				<tbody>
					{% if brands | length > 0 %}
						{% for brand in brands %}
							<tr>
								<td>
									<image src="{{brand.logo}}" alt="Logo de la marque {{brand.name}}" class="logo-medium">
								</td>
								<td>
									<strong>{{brand.name}}</strong>
								</td>
								<td>
									{{brand.nationality}}
								</td>
								<td>
									{{brand.creationDate | date("d/m/Y")}}
								</td>
								<td>
									"<i>{{brand.slogan}}</i>"
									<br/>
									<i class="fas fa-desktop"></i>
									<a href="{{brand.website}}">Site web
										{{brand.name}}</a>
									<br/>
									Cette marque possède
									{{brand.products | length}}
									produit(s)
								</td>
								<td>
									<a href="{{ path('brand_edit', {'brand':brand.id} ) }}" class="btn btn-warning">
										<i class="fas fa-pen"></i>
									</a>
									<a href="{{ path('brand_delete', {'brand': brand.id})}}" class="btn btn-danger">
										<i class='fas fa-trash'></i>
									</a>
								</td>
							</tr>
						{% endfor %}
					{% else %}
						<tr>
							<td colspan="5" class="text-center">
								Aucune marque n'a été trouvée...
							</td>
						</tr>
					{% endif %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
